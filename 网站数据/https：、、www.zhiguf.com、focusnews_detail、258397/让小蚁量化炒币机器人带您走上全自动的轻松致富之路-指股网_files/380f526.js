(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{652:function(t,e,n){t.exports=n.p+"img/good.b091b05.png"},653:function(t,e,n){t.exports=n.p+"img/comments.9fa3524.png"},659:function(t,e,n){"use strict";n(66),n(103),n(20),n(46);var o=n(17),c=n.n(o),r={props:["commentNum","pid","contentId","type","authorId","replyData","camp"],data:function(){return{rep:"回复",page:1,limit:8,pages:0,replyList:[],sh:!1,more:!1,content:"",list:[]}},watch:{page:function(){this.getMoreReply()}},created:function(){},methods:{likes:function(t,data){var e=this;this.$store.state.token?c.a.post(this.$store.state.domain+"likes",{token:this.$store.state.token,like_id:t,type:this.type,status:2}).then((function(t){"success"==t.data.status?"add"==t.data.type?data.likes_num++:data.likes_num--:1==t.data.re_login?(Cookie.remove("token",{domain:"bajsx.com"}),e.$store.commit("setAuth",!0),e.$store.dispatch("delUserInfo")):e.$message({message:t.data.errmsg,type:"error"})})).catch((function(t){console.log("接口错误或逻辑错误")})):this.$store.commit("setAuth",!0)},replySubmit:function(t){var e=this;this.$store.state.token?this.content?c.a.post(this.$store.state.domain+"comment",{token:this.$store.state.token,author_id:this.authorId,content_id:this.contentId,content:this.content,pid:t,comment_id:this.pid,type:this.type,camp:this.camp}).then((function(t){"success"==t.data.status?(e.$message({type:"success",message:"回复成功"}),e.content="",e.list=[t.data.data].concat(e.list)):1==t.data.re_login?(Cookie.remove("token",{domain:"bajsx.com"}),e.$store.commit("setAuth",!0),e.$store.dispatch("delUserInfo")):e.$message({message:t.data.errmsg,type:"error"})})).catch((function(t){console.log("接口或页面错误")})):this.$message({type:"warning",message:"回复内容不能为空"}):this.$store.commit("setAuth",!0)},reply:function(data){data._id&&(this.replyList.forEach((function(t){t._id=!0})),this.list.forEach((function(t){t._id=!0}))),data._id=!data._id},moreReply:function(t){t.currentTarget.parentNode.innerHTML="更多回复：",this.more=!this.more,this.getMoreReply()},getMoreReply:function(){var t=this;c.a.get(this.$store.state.domain+"comment_list",{params:{comment_id:this.pid,page:this.page,limit:this.limit,type:this.type,camp:this.camp}}).then((function(e){t.pages=e.data.pages,t.replyList=t.replyList.concat(e.data.data)})).catch((function(t){console.log("接口或页面错误")}))},addMore:function(){this.page<this.pages&&this.page++}}},l=(n(941),n(5)),m=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"reply-cont"},[t._l(t.replyData.concat(t.list),(function(data,e){return n("div",{key:e,staticClass:"reply-block"},[n("div",{staticClass:"hf_cont"},[n("strong",[t._v(t._s(data.nickname)+"：")]),n("span",[t._v(t._s(data.content))])]),t._v(" "),n("div",{staticClass:"hf_bot"},[n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.likes(data.id,data)}}},[t._v("点赞"+t._s(data.likes_num))]),t._v(" "),n("a",{class:{ishow:t.sh},attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.reply(data)}}},[t._v(t._s(t.rep))]),t._v(" "),n("span",[t._v(t._s(data.calculateTime))])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!data._id,expression:"!data._id"}],staticStyle:{margin:"7px 0"}},[n("el-row",[n("el-col",{staticClass:"co",attrs:{span:21}},[n("el-input",{attrs:{type:"textarea",rows:"2",resize:"none",placeholder:"说两句，虽然没有华丽的语言装饰，但一定要理性发言"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),t._v(" "),n("el-col",{attrs:{span:3}},[n("el-button",{staticStyle:{height:"75px","border-radius":"0"},attrs:{type:"primary"},on:{click:function(e){return t.replySubmit(data.id)}}},[t._v("\n              回复\n            ")])],1)],1)],1)])})),t._v(" "),t.commentNum>2?n("div",[n("div",{staticClass:"look-more",class:{mo:t.more}},[n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.moreReply(e)}}},[t._v("查看全部"+t._s(t.commentNum)+"条回复"),n("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.more,expression:"more"}]},[t._l(t.replyList.slice(2),(function(data,e){return n("div",{key:e,staticClass:"reply-block"},[n("div",{staticClass:"hf_cont"},[data.pid!=t.pid?n("span",[n("strong",[t._v(t._s(data.nickname))]),t._v(" "),n("font",{attrs:{color:"#adadad"}},[t._v("回复")]),t._v(" "),n("strong",[t._v(t._s(data.p_nickname)+"：")])],1):n("span",[n("strong",[t._v(t._s(data.nickname)+"：")])]),t._v(" "),n("span",[t._v(t._s(data.content))])]),t._v(" "),n("div",{staticClass:"hf_bot"},[n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.likes(data.id,data)}}},[t._v("点赞"+t._s(data.likes_num))]),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.reply(data)}}},[t._v(t._s(t.rep))]),t._v(" "),n("span",[t._v(t._s(data.calculateTime))])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!data._id,expression:"!data._id"}],staticStyle:{margin:"7px 0"}},[n("el-row",[n("el-col",{staticClass:"co",attrs:{span:21}},[n("el-input",{attrs:{type:"textarea",rows:"2",resize:"none",placeholder:"说两句，虽然没有华丽的语言装饰，但一定要理性发言"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),t._v(" "),n("el-col",{attrs:{span:3}},[n("el-button",{staticStyle:{height:"75px","border-radius":"0"},attrs:{type:"primary"},on:{click:function(e){return t.replySubmit(data.id)}}},[t._v("\n                  回复\n                ")])],1)],1)],1)])})),t._v(" "),t.page<t.pages?n("a",{staticClass:"addMore",attrs:{href:"javascript:void(0)"},on:{click:t.addMore}},[t._v("加载更多")]):n("p",{staticStyle:{color:"#777","text-align":"center",padding:"5px 0"}},[t._v("\n          没有更多了\n        ")])],2)]):t._e()],2)])}),[],!1,null,"baa7a79e",null).exports,h=n(12),_=n.n(h),v={components:{reply:m},props:["contentId","type","authorId","camp"],data:function(){return{emotionShows:!1,text:"",content:"",num:0,num1:0,emotion_data:"",emotionsMap:{},commentList:[],page:1,limit:6,pages:0,active:!1,sh:!1,sh1:!1,rep:"回复",more:!1,replyData:[],newsXieYi:!1}},watch:{page:function(t){this.getCommentList(this.$store,this.$route)},text:function(t){this.text.length<=140?this.num=this.text.length:(this.text=this.text.substring(0,140),this.num=140)}},created:function(){this.getCommentList(this.$store,this.$route)},methods:{emotion:function(t){this.emotion_data=t,this.text+=t},emotionShow:function(){0==this.emotionShows?this.emotionShows=!0:this.emotionShows=!1},map:function(data){this.emotionsMap=data},submitForm:function(){var t=this;if(!this.$store.state.token)return this.$confirm("未登录用户必须登录才能评论，是否登录?","提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((function(){var th=t;setTimeout((function(){th.$store.commit("setAuth",!0)}),1e3)})).catch((function(){t.$message({type:"info",message:"已取消登录"})})),!1;this.text?(c.a.post(this.$store.state.domain+"comment",{token:this.$store.state.token,content_id:this.$route.params.id,author_id:this.authorId,type:this.type,content:this.text,camp:this.camp}).then((function(e){"success"==e.data.status?(t.$message({message:"评论成功",type:"success"}),t.emotionShows=!1,t.commentList=[e.data.data].concat(t.commentList)):1==e.data.re_login?(_.a.remove("token",{domain:"zhiguf.com"}),t.$store.commit("setAuth",!0),t.$store.dispatch("delUserInfo")):t.$message({message:"评论失败",type:"warning"})})).catch((function(t){console.log("接口或页面错误")})),this.text=""):this.$message({message:"评论内容不能为空",type:"warning"})},likes:function(t,data){var e=this;this.$store.state.token?c.a.post(this.$store.state.domain+"likes",{token:this.$store.state.token,like_id:t,type:this.type,status:2}).then((function(t){"success"==t.data.status?"add"==t.data.type?data.likes_num++:data.likes_num--:1==t.data.re_login?(_.a.remove("token",{domain:"zhiguf.com"}),e.$store.commit("setAuth",!0),e.$store.dispatch("delUserInfo")):e.$message({message:t.data.errmsg,type:"warning"})})).catch((function(t){console.log("接口错误或逻辑错误")})):this.$store.commit("setAuth",!0)},reply:function(data){data._id&&this.commentList.forEach((function(t){t._id=!0})),data._id=!data._id},replySubmit:function(t,data){var e=this;this.$store.state.token?this.content?c.a.post(this.$store.state.domain+"comment",{token:this.$store.state.token,type:this.type,author_id:this.authorId,content_id:this.contentId,content:this.content,pid:t,comment_id:t,camp:this.camp}).then((function(t){"success"==t.data.status?(e.$message({type:"success",message:"回复成功"}),e.content="",data.replyData=[t.data.data].concat(data.replyData)):1==t.data.re_login?(_.a.remove("token",{domain:"bajsx.com"}),e.$store.commit("setAuth",!0),e.$store.dispatch("delUserInfo")):e.$message({message:t.data.errmsg,type:"warning"})})).catch((function(t){console.log("接口或页面错误")})):this.$message("回复内容不能为空"):this.$confirm("未登录用户必须登录才能回复，是否登录?","提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((function(){var th=e;setTimeout((function(){th.$store.commit("setAuth",!0)}),1e3)})).catch((function(){e.$message({type:"info",message:"已取消登录"})}))},moreReply:function(t){t.currentTarget.parentNode.innerHTML="更多回复：",this.more=!this.more},getCommentList:function(t,e){var n=this;c.a.get(t.state.domain+"comment_list",{params:{content_id:this.contentId,type:this.type,page:this.page,limit:this.limit,camp:this.camp}}).then((function(t){n.commentList=n.commentList.concat(t.data.data),n.pages=t.data.pages})).catch((function(t){console.log("接口或页面错误")}))},next:function(){this.page++}}},d=(n(942),Object(l.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.commentList?o("div",[o("ul",{staticClass:"pinglun_list",attrs:{page:t.page}},t._l(t.commentList,(function(data,e){return o("li",{key:e},[o("el-row",{attrs:{gutter:10}},[o("el-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[o("img",{attrs:{src:data.avartar}})]),t._v(" "),o("el-col",{attrs:{span:21}},[o("div",{staticClass:"pl_cont1"},[o("p",[o("span",{staticClass:"cont_name"},[t._v(t._s(data.nickname))]),t._v(" "),o("span",{staticClass:"cont_time"},[t._v(t._s(data.time))])]),t._v(" "),o("p",{domProps:{innerHTML:t._s(data.content)}})]),t._v(" "),data.comment_num>0?o("div",{staticClass:"huifu_area"},[data.replyData?o("reply",{attrs:{"comment-num":data.comment_num,pid:data.id,"content-id":t.contentId,type:t.type,"author-id":t.authorId,"reply-data":data.replyData.data,postion:t.camp}}):t._e()],1):t._e(),t._v(" "),o("div",{staticClass:"dz_hf"},[o("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.likes(data.id,data)}}},[o("img",{attrs:{src:n(652)}}),t._v("点赞"+t._s(data.likes_num))]),t._v(" "),o("a",{class:{ishow:t.sh},attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.reply(data)}}},[o("img",{attrs:{src:n(653)}}),t._v(t._s(t.rep))]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!data._id,expression:"!data._id"}],staticStyle:{margin:"7px 0"}},[o("el-row",[o("el-col",{staticClass:"co",attrs:{span:21}},[o("el-input",{staticStyle:{height:"75px"},attrs:{type:"textarea",resize:"none",placeholder:"说两句，虽然没有华丽的语言装饰，但一定要理性发言"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),t._v(" "),o("el-col",{attrs:{span:3}},[o("el-button",{staticStyle:{height:"75px","border-radius":"0"},attrs:{type:"primary"},on:{click:function(e){return t.replySubmit(data.id,data)}}},[t._v("\n                        回复\n                      ")])],1)],1)],1)])])],1)],1)})),0),t._v(" "),t.page<t.pages?o("a",{staticClass:"btn",on:{click:t.next}},[t._v("点击加载更多")]):t.page>=t.pages?o("p",{staticStyle:{"text-align":"center","padding-top":"20px"}},[t._v("\n        评论到此结束\n      ")]):t._e()]):o("div",[o("i",{staticClass:"el-icon-info"}),t._v(" 暂无评论\n    ")]),t._v(" "),o("div",{staticStyle:{"margin-top":"50px"}},[o("div",{staticClass:"edit_pl"},[o("p",{staticStyle:{"line-height":"35px",color:"#999"}},[t._v("\n          文明上网理性发言，请遵守"),o("a",{staticStyle:{color:"#999"},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.newsXieYi=!0}}},[t._v("《新闻评论服务协议》")])]),t._v(" "),o("el-form",{ref:"form",attrs:{"label-width":"0"}},[o("el-form-item",{attrs:{label:""}},[o("el-input",{attrs:{type:"textarea",resize:"none",rows:"4",placeholder:"说两句，虽然没有华丽的语言装饰，但一定要理性发言"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)],1),t._v(" "),o("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{title:"",visible:t.newsXieYi,width:"50%"},on:{"update:visible":function(e){t.newsXieYi=e}}},[o("div",[o("h1",[t._v("指股网新闻评论服务协议及管理条例")]),t._v(" "),o("h3",[t._v("用户注册发言前，请认真阅读本条例。一经注册或发言，即视为同意接受本条例；如不同意，请勿注册或发言。")]),t._v(" "),o("h3",[t._v("\n              一、制定本条例的目的在于为用户提供文明、理性、友善、高质量的信息分享和公共讨论的网络交流空间。\n              指股网评论服务，是指通过运营网络互动传播技术平台，供用户对本网站传播的各类信息发表评论意见（包括但不限于语音、文字、图片、音频、视频等信息）的服务。\n            ")]),t._v(" "),o("h3",[t._v("\n              二．用户使用指股网评论服务时，不得逾越法律法规、社会主义制度、国家利益、公民合法权益、社会公共秩序、道德风尚和信息真实性“七条底线”；应尊重其他用户合法权益及公民个人隐私，尊重社会公序良俗，遵守国家法律法规。\n              上文提及的国家法律法规，包括但不限于：《全国人民代表大会常务委员会关于维护互联网安全的决定》、《全国人民代表大会常务委员会关于加强网络信息保护的决定》、《最高人民法院最高人民检察院关于办理利用信息网络实施诽谤等刑事案件适用法律若干问题的解释》、《互联网信息服务管理办法》、《互联网新闻信息服务管理规定》以及《未成年人保护法》等。\n            ")]),t._v(" "),o("h3",[t._v("三．用户应当按照“后台实名、前台自愿”的原则，通过真实身份信息认证并注册账号后，使用本网站的新闻评论服务。对注册用户发表的新闻评论，我们保留相应的管理权利。")]),t._v(" "),o("h3",[t._v("四．用户在指股网平台发表言论时，不得含有以下内容：")]),t._v(" "),o("p",[t._v("1.(一) 反对宪法确定的基本原则的；")]),t._v(" "),o("p",[t._v("2.(二) 危害国家安全，泄露国家秘密，颠覆国家政权，破坏国家统一的；")]),t._v(" "),o("p",[t._v("3.(三) 损害国家荣誉和利益的；")]),t._v(" "),o("p",[t._v("4.(四) 煽动民族仇恨、民族歧视，破坏民族团结的；")]),t._v(" "),o("p",[t._v("5.(五) 煽动地域歧视、地域仇恨的；")]),t._v(" "),o("p",[t._v("6.(六) 煽动非法集会、结社、游行、示威、聚众扰乱社会秩序的；")]),t._v(" "),o("p",[t._v("7.(七) 破坏国家宗教政策，宣扬邪教和迷信的；")]),t._v(" "),o("p",[t._v("\n              8.(八) 侮辱和歧视性别、年龄、种族、出身、国别、性取向、生理缺陷的；7.(七)\n            ")]),t._v(" "),o("p",[t._v("9.(九) 散布谣言，扰乱社会秩序、破坏社会稳定的；")]),t._v(" "),o("p",[t._v("10.(十) 散布淫秽、色情、赌博、暴力、凶杀、恐怖或者教唆犯罪的；")]),t._v(" "),o("p",[t._v("11.(十一) 侮辱或诽谤他人，侵害他人合法权益的；")]),t._v(" "),o("p",[t._v("12.(十二) 对他人进行暴力恐吓、威胁，实施人肉搜索的；")]),t._v(" "),o("p",[t._v("13.(十三) 未获得未满18周岁未成年人法定监护人的书面同意，传播该未成年人的隐私信息的；")]),t._v(" "),o("p",[t._v("14.(十四) 散布污言秽语，损坏社会公序良俗的；")]),t._v(" "),o("p",[t._v("15.(十五) 侵犯他人知识产权的；")]),t._v(" "),o("p",[t._v("16.(十六) 散布非法商业广告，或类似的商业招揽信息；")]),t._v(" "),o("p",[t._v("17.(十七) 使用本网站常用语言文字以外的其他语言文字评论的；")]),t._v(" "),o("p",[t._v("18.(十八) 与所评论的信息毫无关系的；")]),t._v(" "),o("p",[t._v("19.(十九) 所发表的信息毫无意义的，或刻意使用字符组合以逃避技术审核的；")]),t._v(" "),o("p",[t._v("20.(二十) 法律、法规和规章禁止传播的其他信息。")]),t._v(" "),o("h3",[t._v("五．对违反上述承诺的用户，我们有权拒绝发布、删除评论、短期禁止发言直至永久关闭注册账号等管理措施。同时，对涉嫌违法犯罪的言论将保存在案、并向有关政府部门如实报告。")]),t._v(" "),o("h3",[t._v("六．我们欢迎用户举报各类不法传播活动和违法有害信息，以共同维护文明、有价值的评论环境。")]),t._v(" "),o("h3",[t._v("七．若用户违反承诺、发布侵害第三人合法权益的信息而导致本网站被判决向被侵权人赔偿，我们保留依法向该用户追偿的权利。")]),t._v(" "),o("h3",[t._v("八：我们不接受未满14周岁的未成年人注册账号。已年满14周岁、未满18周岁的未成年人注册账号，应提供法定监护人的书面授权。")]),t._v(" "),o("h3",[t._v("九．用户提交的任何内容，本网站有权在世界范围内，利用媒体、已知或未知的技术，永久、免费、独家、再授权使用，包括复制、修改、改编、出版、翻译、创作衍生作品等。")]),t._v(" "),o("h2",[t._v("指股网官网")])])])],1),t._v(" "),o("div",{staticClass:"sub",staticStyle:{"margin-top":"-22px"}},[o("p",[o("a",{staticStyle:{"z-index":"99"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.emotionShow()}}},[o("img",{attrs:{src:n(940)}})]),t._v(" "),o("span",{staticStyle:{float:"right"}},[t._v(t._s(t.num)+"/140")])]),t._v(" "),o("a",{staticClass:"submit",attrs:{href:"javascript:void(0)"},on:{click:t.submitForm}},[t._v("发表评论")])])])])}),[],!1,null,"20876c72",null));e.a=d.exports},756:function(t,e,n){},757:function(t,e,n){},940:function(t,e,n){t.exports=n.p+"img/smile.8b44bdf.png"},941:function(t,e,n){"use strict";n(756)},942:function(t,e,n){"use strict";n(757)}}]);