!function(){var e={119:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=n(119),t=n.n(e);const o="Tag Manager: ",r=function(){let e=!1;try{const t=window;e=t&&t.debug||t.location&&(t.location.search||"").toLowerCase().indexOf("debug=")>-1}catch(e){}return e}();function i(e){r&&console&&console.error(o+" "+e)}function a(e){let t=e;try{t=JSON.parse(e)}catch(e){i("Parse error in string"),i(e.message)}return t}function c(e,t){return e&&"true"===e[t]}const s=[".wix.com",".editorx.com"];let d=[];const u=[],l=[],f=[];let g=[],p={};function m(){return f}function w(){return x(p)}function y(e){return Object.keys(e).filter((t=>!!e[t]&&-1===g.indexOf(t)))}function h(e){d=e}function b(e){u.push(e)}function E(e){l.push(e)}function x(e){return a(JSON.stringify(e))}const v=!!document.documentMode;function P(e,t,n){let o;v?(o=document.createEvent("CustomEvent"),o.initCustomEvent(e,!0,!0,n)):o=new CustomEvent(e,{detail:n}),t&&t.dispatchEvent&&setTimeout((()=>{t.dispatchEvent(o)}),0)}const I="TagManagerLoaded",T="LoadingTags",O="TagLoaded",N="TagLoadError";function A(e,t,n){const o=()=>{try{if("function"==typeof e)return e(t)}catch(e){i(e)}};return!0===n?setTimeout(o,0):o()}function C(e,t,n,o){return()=>{P(e,window,{tagName:t,embed:n}),o(n),function(e){d=d.filter((t=>t.name!==e))}(n.name)}}function M(e,t){let n;return e.nodeType===Node.TEXT_NODE?n=document.createTextNode(e.content):e.nodeType===Node.COMMENT_NODE?n=document.createComment(e.content):(n=document.createElement(e.tag),e&&e.attributes instanceof NamedNodeMap?Array.prototype.forEach.call(e.attributes,(e=>{L(n,e.name,e.value)})):"object"==typeof e.attributes&&Object.keys(e.attributes).forEach((t=>{void 0!==typeof e.attributes[t]&&L(n,t,e.attributes[t])})),"SCRIPT"===e.tag?function(e,t,n){void 0===t&&(t="");t&&(e.src=function(e){const t=new Blob([e],{type:"text/javascript;charset=utf-8"});return URL.createObjectURL(t)}(t));e.addEventListener("load",(()=>{A(n&&n.onload,null)}),!1),e.addEventListener("error",(()=>{A(n&&n.onerror,null)}),!1)}(n,e.content,t):e.children&&e.children.length>0&&e.children.forEach((e=>{const o=M(e,t);n.appendChild(o)}))),n}function L(e,t,n){e.setAttribute(t,n)}function S(e){const t=[],n=document.createElement("DIV");return n.innerHTML=e,Array.prototype.forEach.call(n.childNodes,(e=>{const n=j(e);t.push(n)})),t}function j(e){const t=e.nodeType,n=e.innerHTML||e.textContent||e.nodeValue,o=[];return e.hasChildNodes()&&Array.prototype.forEach.call(e.childNodes,(e=>{o.push(j(e))})),{nodeType:t,tag:e.nodeName,attributes:e.attributes,content:n,children:o}}let R;!function(e){e.HEAD="head",e.BODY_START="bodyStart",e.BODY_END="bodyEnd"}(R||(R={}));function _(e,t,n){const o=e.filter((e=>!e.embeddedNodes)),r=c(n,"specs.tagManagerRenderTagByPageID")?function(e,t){return e.filter((e=>function(e,t){return!(t.id&&(n=e,null!=(o=n.tag)&&null!=(r=o.pages)&&r.length))||((e,t)=>{var n,o;return(null==(n=e.tag)||null==(o=n.pages)?void 0:o.includes(t.id||""))||!1})(e,t);var n,o,r}(e,t)))}(o,t):o,i=r.map((e=>e.tag));h(i),P(T,window,i),r.forEach((e=>{const t=e.tag,n=S(t.content),o=t.position&&t.position!==R.HEAD?document.body:document.head,r=function(e,t,n,o){const r=[];let i=0;const a=()=>{i-=1,i>=0&&A(t.onload,{})},c=()=>{i-=1,i>=0&&A(t.onerror,{error:!0})},s=n.firstChild;e.forEach((e=>{"SCRIPT"===e.tag&&(i+=1);const t=M(e,{onload:a,onerror:c});r.push(t),o?n.insertBefore(t,s):n.appendChild(t)})),0===i&&A(t.onload,{},!0);return r}(n,{onload:C(O,t.name,t,b),onerror:C(N,t.name,t,E)},o,t.position===R.BODY_START);e.embeddedNodes=r}))}function D(e,t,n,o){const r=o&&o.headers||{},i=o&&o.query||{};r["content-type"]=r["content-type"]||"application/json";const a=new XMLHttpRequest,c=o&&o.postBody?"POST":"GET",s=""+e+function(e){let t="";"object"==typeof e&&Object.keys(e).forEach((n=>{if(void 0!==e[n]){const o=encodeURIComponent(e[n]);t+=encodeURIComponent(n)+"="+o+"&"}}));return t=t?t.substr(0,t.length-1):"",t?"?"+t:""}(i);a.open(c,s,!0),a.onreadystatechange=()=>{if(4===a.readyState){const e=a.status;e<200||e>=300?A(n,{status:e,responseText:a.responseText}):A(t,a.responseText)}},Object.keys(r).forEach((e=>{void 0!==r[e]&&a.setRequestHeader(e,r[e])})),a.send(o&&o.postBody||null)}function B(e,n){const o=a(e),r=n.currentPageID,s=n.initConsentPolicyManager,d=void 0!==s&&s;var u,l,w,h;if(o.errors&&o.errors.length>0&&i(JSON.stringify(o.errors)),o.config&&((l=o.config.consentPolicy)&&"object"==typeof l&&(g=[...g,...y(l)]),d&&window.consentPolicyManager&&window.consentPolicyManager.init({consentPolicy:o.config.consentPolicy}),"object"!=typeof(u=o.config)||Array.isArray(u)||(p=t()({},p,u))),o.tags){w=o.tags,c(null==(h=p)?void 0:h.experiments,"specs.tagManager.ReadLoadOnceFromTag")?w.forEach((e=>{var n;const o=e.loadOnce||(null==(n=e.content)?void 0:n.includes('load-once="true"'));f.push({tag:t()({},e,{loadOnce:o}),embeddedNodes:null})})):w.forEach((e=>{f.push({tag:e,embeddedNodes:null})}));const e={id:r};_(m(),e,o.config.experiments)}}function U(e,t,n){return(e&&!function(e){let t=!1;return s.forEach((e=>{t||(t=location.hostname.indexOf(e)>0)})),t||e}(!!n)?e:"")+"/_api/tag-manager/api/v1/tags/sites/"+t}function H(e){const t=e.metasiteId,n=e.htmlsiteId,o=e.baseUrl,r=e.wixSite,a=e.language,c=e.categories,s=U(o,t,r),d=!r&&window.consentPolicyManager?window.consentPolicyManager._getConsentPolicyHeader():{},u=function(e){return e.wixEmbedsAPI.getCurrentPageInfo&&"function"==typeof e.wixEmbedsAPI.getCurrentPageInfo&&e.wixEmbedsAPI.getCurrentPageInfo()||{}}(window),l=function(e,t){void 0===t&&(t=location.search);let n=t.split(e+"=")[1];return n=n?decodeURIComponent(n.split("&")[0]):void 0,n}("omit"),f=window.wixEmbedsAPI.getAppToken;f&&(d.authorization=A(f,"22bef345-3c5b-4c18-b782-74d4085112ff")),D(s,(e=>{B(e,{initConsentPolicyManager:!c&&!!r,currentPageID:u.id})}),(e=>{i("Error loading site tags at "+s),i(e.message)}),{query:{wixSite:!!r,htmlsiteId:n,language:a,categories:c,omit:l,partytown:"partytown"in window},headers:d})}function k(e){m().forEach((e=>{e.tag.loadOnce||(e.embeddedNodes&&e.embeddedNodes.forEach((e=>{A((()=>{e.parentNode.removeChild(e)}))})),e.embeddedNodes=null)}));_(m(),e,w().experiments)}function q(e){if(e&&e.detail&&e.detail.policy){const t=y(e.detail.policy);t.length&&H({baseUrl:window.wixEmbedsAPI.getExternalBaseUrl(),htmlsiteId:window.wixEmbedsAPI.getHtmlSiteId(),metasiteId:window.wixEmbedsAPI.getMetaSiteId(),wixSite:window.wixEmbedsAPI.isWixSite(),language:window.wixEmbedsAPI.getLanguage(),categories:t})}}const J={getLoadedTags:function(){return x(u)},getLoadingTags:function(){return x(d)},getLoadErrorTags:function(){return x(l)},getConfig:w};let Y=()=>{const e=window.wixEmbedsAPI;H({baseUrl:e.getExternalBaseUrl(),htmlsiteId:e.getHtmlSiteId(),metasiteId:e.getMetaSiteId(),language:e.getLanguage(),wixSite:e.isWixSite()}),window.wixEmbedsAPI.registerToEvent("pageNavigation",k),document.addEventListener("consentPolicyChanged",q),window.wixTagManager=J,P(I,window,J)};window.wixEmbedsAPI&&"function"==typeof window.wixEmbedsAPI.registerToEvent?Y():window.addEventListener("wixEmbedsAPIReady",(()=>{Y(),Y=function(){}}),!1)}()}();
//# sourceMappingURL=siteTags.bundle.min.js.map